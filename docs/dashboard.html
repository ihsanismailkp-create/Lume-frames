<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Lume Frames Dashboard</title>

<style>

/* GLOBAL FIX */

*{
box-sizing:border-box;
}

/* BODY */

body{
margin:0;
font-family:Arial;
background:#f4f4f2;
padding:20px;

opacity:0;
animation:fade .4s forwards;
}

@keyframes fade{
to{opacity:1;}
}

/* HEADER */

.header{
display:flex;
justify-content:space-between;
align-items:center;
}

.plus{
width:50px;
height:50px;
border-radius:50%;
background:black;
color:white;
font-size:30px;
display:flex;
justify-content:center;
align-items:center;
cursor:pointer;
}

/* TITLES */

.titles{
display:flex;
justify-content:space-between;
margin-top:20px;
color:#777;
font-weight:bold;
}

/* CARD */

.card{
background:#e9e9e7;
padding:18px;
border-radius:18px;
margin-top:12px;
animation:slide .3s;
}

@keyframes slide{
from{
opacity:0;
transform:translateY(10px);
}
}

.summary{
display:flex;
justify-content:space-between;
font-weight:bold;
}

/* BADGES */

.badge{
padding:4px 10px;
border-radius:8px;
}

.upcoming,.pending{
background:#ffd6d6;
color:red;
}

.completed,.paid{
background:#d6f5dc;
color:green;
}

/* DETAILS */

.details{
max-height:0;
overflow:hidden;
transition:.3s;
}

.card.active .details{
max-height:200px;
margin-top:10px;
}

/* BUTTONS */

button{
padding:10px;
border:none;
border-radius:10px;
color:white;
margin-top:10px;
margin-right:10px;
cursor:pointer;
}

.edit{background:black;}
.delete{background:red;}
.save{background:black;width:100%;}

/* MODAL */

.modal{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,.4);
justify-content:center;
align-items:center;
padding:20px;
}

.modal-box{
background:white;
padding:20px;
border-radius:15px;
width:100%;
max-width:350px;
}

/* INPUTS */

input,select{

width:100%;
padding:14px;
margin-bottom:12px;
border-radius:10px;
border:1px solid #ccc;
font-size:16px;
background:white;
color:black;

}

/* FIX DATE LOOK */

input[type="date"]{
appearance:auto;
-webkit-appearance:auto;
}

</style>

</head>

<body>


<div class="header">

<h2>Lume Frames</h2>

<div class="plus" onclick="openAdd()">+</div>

</div>


<div class="titles">

<span>Date</span>
<span>Status</span>
<span>Payment</span>

</div>


<div id="bookings"></div>


<!-- ADD MODAL -->

<div class="modal" id="addModal">

<div class="modal-box">

<h3>Add Booking</h3>

<input type="date" id="date">

<input type="text" id="name" placeholder="Client Name">

<input type="text" id="location" placeholder="Location">

<input type="number" id="amount" placeholder="Amount">

<button class="save" onclick="addBooking()">
Add Booking
</button>

</div>

</div>


<!-- EDIT MODAL -->

<div class="modal" id="editModal">

<div class="modal-box">

<h3>Edit</h3>

<select id="status">

<option value="upcoming">Upcoming</option>
<option value="completed">Completed</option>

</select>


<select id="payment">

<option value="pending">Pending</option>
<option value="paid">Paid</option>

</select>


<button class="save" onclick="saveEdit()">
Save
</button>

</div>

</div>


<script>


let bookings =
JSON.parse(localStorage.getItem("lume")) || [];

let currentIndex = null;


/* SAVE */

function save(){

localStorage.setItem("lume",
JSON.stringify(bookings));

render();

}


/* FORMAT DATE */

function formatDate(d){

if(!d) return "-";

let date=new Date(d);

return date.toLocaleDateString(
"en-GB",
{day:"2-digit",month:"short",year:"numeric"});

}


/* RENDER */

function render(){

let box=document.getElementById("bookings");

box.innerHTML="";

bookings.forEach((b,i)=>{

let safe={

date:b.date||"",

name:b.name||"-",

location:b.location||"-",

amount:b.amount||"-",

status:b.status||"upcoming",

payment:b.payment||"pending"

};

box.innerHTML+=`

<div class="card"
onclick="this.classList.toggle('active')">

<div class="summary">

<span>${formatDate(safe.date)}</span>

<span class="badge ${safe.status}">
${safe.status}
</span>

<span class="badge ${safe.payment}">
${safe.payment}
</span>

</div>


<div class="details">

<p><b>Client:</b> ${safe.name}</p>

<p><b>Location:</b> ${safe.location}</p>

<p><b>Amount:</b> â‚¹${safe.amount}</p>

<button class="edit"
onclick="editBooking(event,${i})">
Edit
</button>

<button class="delete"
onclick="deleteBooking(event,${i})">
Delete
</button>

</div>

</div>

`;

});

}


/* OPEN ADD */

function openAdd(){

addModal.style.display="flex";

date.value=new Date()
.toISOString()
.split("T")[0];

}


/* ADD */

function addBooking(){

let nameVal =
document.getElementById("name").value.trim();

let locVal =
document.getElementById("location").value.trim();

let amtVal =
document.getElementById("amount").value.trim();

let dateVal =
document.getElementById("date").value;


if(!nameVal || !locVal){

alert("Enter client and location");

return;

}


bookings.push({

date:dateVal,

name:nameVal,

location:locVal,

amount:amtVal,

status:"upcoming",

payment:"pending"

});

addModal.style.display="none";

save();

}


/* EDIT */

function editBooking(e,i){

e.stopPropagation();

currentIndex=i;

editModal.style.display="flex";

}


/* SAVE EDIT */

function saveEdit(){

bookings[currentIndex].status =
status.value;

bookings[currentIndex].payment =
payment.value;

editModal.style.display="none";

save();

}


/* DELETE */

function deleteBooking(e,i){

e.stopPropagation();

bookings.splice(i,1);

save();

}


/* START */

render();

</script>

</body>
</html>
